<mvc:View
    controllerName="com.inctue.customwebportal.controller.App"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns="sap.m"
    xmlns:layout="sap.ui.layout"
    displayBlock="true"
>
    <Shell>
        <App id="idApp">
            <Page
                id="idMainPage"
                showHeader="true"
            >
                <customHeader>
                    <f:ShellBar
                        title="Web Portal"
                        homeIcon="./image/jng_logo.png"
                        showNotifications="false"
                        showProductSwitcher="false"
                        class="customShellBar"
                        homeIconPressed=".onLogoPress"
                    >
                        <f:searchManager>
                            <f:SearchManager
                                id="searchMgr"
                                placeholder="Searchâ€¦"
                                maxLength="80"
                                search="onShellSearch"
                            />
                        </f:searchManager>

                        <!-- Avatar in additional content with proper sizing -->
                        <f:additionalContent>
                            <f:Avatar
                                id="userAvatar"
                                initials="JD"
                                displaySize="XS"
                                backgroundColor="Accent1"
                                press="onAvatarPress"
                                tooltip="User Profile"
                                class="customAvatar"
                            />
                        </f:additionalContent>
                    </f:ShellBar>
                </customHeader>

                <content>
                    <VBox class="sapUiSmallMargin sapUiLargeMarginBeginEnd">
                        <!-- Application Tiles Section -->
                        <Title
                            text="Applications"
                            level="H3"
                            class="sapUiSmallMarginBottom"
                        />

                        <!-- Dynamic Tiles -->
                        <FlexBox
                            wrap="Wrap"
                            id="tileContainer"
                            justifyContent="Start"
                            alignItems="Center"
                            items="{
                                path: 'tilesModel>/tiles'
                            }"
                        >
                            <GenericTile
                                class="sapUiTinyMargin"
                                header="{tilesModel>title}"
                                subheader="{tilesModel>subtitle}"
                                press=".onTilePress"
                            >
                                <TileContent>
                                    <ImageContent src="{tilesModel>icon}" />
                                </TileContent>
                            </GenericTile>
                        </FlexBox>
                        <core:HTML
                            id="appFrame"
                            content=""
                        />
                    </VBox>
                </content>
            </Page>
        </App>
    </Shell>
</mvc:View>
